# 工学院大学マジシャンズ・ソサエティ公式サイト

## 1. サービスを一言で表す説明
工学院大学マジシャンズ・ソサエティ（KMS）の公式ポートフォリオサイトです。
新歓情報の確認、活動実績の閲覧、外部からの公演依頼をワンストップで行える窓口として機能します。

## 2. サイト概要とURL
| 項目 | 内容 |
| --- | --- |
| **制作者** | 工学院大学情報学部所属のマジシャンTN（公式サイトのリニューアルを担当） |
| **ページ構成** | `index.html`（ホーム） / `about.html`（活動紹介） / `contact.html`（お問い合わせ） / `header.html`（共通ヘッダー） |
| **想定ユーザー** | 新入生、地域イベント主催者、採用担当者 |
| **ステータス** | 開発中（ホスティング準備段階） |
| **特徴** | ダーク/ライトテーマ切替、季節連動アニメーション、GAS連携お問い合わせフォーム |

## 3. 制作背景と目的
- **リニューアルの動機**: 旧サイトのデザイン刷新と、スマホ世代の新入生・依頼者に向けた情報の整理。
- **解決したい課題**: 「活動日はいつ？」「依頼時に何を伝えればいい？」といった定型的な質問コストの削減。フォームを「公演依頼」と「その他」に最適化することで、スムーズな意思疎通を目指しました。
- **学習目的**: モダンなCSS設計（変数、Grid/Flexbox）とVanilla JSによるDOM操作、非同期処理（Fetch API）の習得。

## 4. デザイン・UIのこだわり
- **没入感を高める演出**:
    - **季節連動アニメーション**: 冬季（12月〜2月）にはタイトルに雪が積もる演出を実装。
    - **初回限定オープニング**: 訪問時のみブランド動画を再生し、期待感を高めます（SessionStorageで制御）。
- **テーマ切替機能**:
    - 電球の紐を引っ張るようなギミックで、ダークモード（ステージの暗転）とライトモード（日常）を切り替えられます。
- **迷わせない導線**:
    - 透過Stickyヘッダーにより、どこからでもSNSやお問い合わせにアクセス可能。
    - 「公演依頼」に特化した入力フォームで、依頼者が悩まずに入力できる項目設計（予算、会場、客層など）。
- **可読性への配慮**:
    - `text-wrap: balance` や `line-break: strict` を活用し、日本語の見出しが美しく改行されるよう調整しています。

## 5. 実装した主な機能
| 機能 | ファイル/技術 | 詳細 |
| --- | --- | --- |
| **テーマ切替システム** | `lightbulb.js` / `lightbulb.css` | 物理演算風の紐アニメーションとCSS変数による配色一括置換。切替時の効果音（SE）も実装。 |
| **共通ヘッダー読み込み** | `script.js` / `header.html` | `header.html` をFetch APIで動的に読み込み、 `aria-current` で現在地を自動強調。 |
| **お問い合わせフォーム** | `script.js` / Google Apps Script | 「公演依頼モード」と「通常モード」で必須項目を動的に切り替え。GASエンドポイントへ非同期送信。 |
| **スクロール演出** | `script.js` / `scroll.css` | IntersectionObserverを用い、フワッと要素が出現するアニメーションを効率的に実装。 |
| **雪のアニメーション** | `snow-title.js` | 冬季限定でCanvasによりタイトル上に雪を降らせる演出。HTML要素との衝突判定（積もる表現）も実装。 |
| **SEO・OGP対策** | `index.html` 等 | 各ページにメタタグ（description, canonical, OGP）を完備。sitemap.xmlとrobots.txtも配置済み。 |

## 6. フォルダ構成
```
kogakuin_magic/
├─ index.html                 # トップページ
├─ about.html                 # 活動・実績紹介
├─ contact.html               # お問い合わせフォーム（GAS連携）
├─ header.html                # 共通ヘッダー（JSで読み込み）
├─ sitemap.xml                # サイトマップ
├─ robots.txt                 # クローラー設定
├─ assets/
│  ├─ css/
│  │  ├─ style.css            # ベーススタイル・変数定義
│  │  ├─ scroll.css           # スクロールアニメーション定義
│  │  └─ lightbulb.css        # 電球スイッチのスタイル
│  ├─ js/
│  │  ├─ script.js            # 共通ロジック、フォーム制御、ルーティング
│  │  ├─ lightbulb.js         # テーマ切替スイッチの物理挙動・音声再生
│  │  └─ snow-title.js        # タイトルの雪アニメーション
│  ├─ images/                 # 写真、ロゴ、背景画像
│  ├─ videos/                 # オープニング動画など
│  └─ audio/                  # 効果音（スイッチ音など）
└─ LICENSE
```

## 7. 工夫した点・学んだこと
- **フォームのUX改善**: 公演依頼時に「予算」や「客層」を必須にすることで、メールでのやり取り回数を減らす設計にしました。
- **パフォーマンスとアクセシビリティ**: 
    - 画像の遅延読み込みや、`prefers-reduced-motion` への配慮。
    - フォームのエラー表示を各項目の直下に配置し、`aria-live` でスクリーンリーダーに通知。
- **Vanilla JSでの設計**: フレームワークを使わず標準API（Fetch, IntersectionObserver）を使いこなすことで、ブラウザの基本動作への理解を深めました。

## 8. 今後の展望
1. **活動実績のCMS化**: Google SpreadsheetやJSONから過去の公演データを読み込み、自動更新される仕組みの導入。
2. **画像の最適化**: WebP形式への完全移行と、レスポンシブな画像配信（srcset）。
3. **多言語対応**: 留学生や海外からのアクセスを想定した英語対応。
4. **CI/CDの導入**: GitHub Actionsを用いたLighthouseスコアの定点観測。

